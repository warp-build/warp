syntax = "proto3";
package build.warp.codedb;

service AnalyzerService {
  rpc GetInterestedExtensions(GetInterestedExtensionsRequest) returns (GetInterestedExtensionsResponse);

  rpc GetProvidedSymbols(GetProvidedSymbolsRequest) returns (GetProvidedSymbolsResponse);
}

message GetInterestedExtensionsRequest {}

message GetInterestedExtensionsResponse {
  repeated string ext = 1;
}

message GetProvidedSymbolsRequest {
  string file = 1;

}
message GetProvidedSymbolsResponse {
  bool skipped = 1;
  string file = 2;
  repeated Requirement provides = 3;
}

message FileRequirement {
  string path = 1;
}

message SymbolRequirement {
  string raw = 1;
  string kind = 2;
}

message Requirement {
  oneof requirement {
    FileRequirement file = 1;
    SymbolRequirement symbol = 3;
  }
}

